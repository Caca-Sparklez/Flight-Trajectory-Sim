# This is my go at the lift math for the first paper 
#but idk what im doing ngl
#
# - Johnny Kellogg

# finite span lift coefficient - EQ 13
import MATLAB
import pandas as pd
import math
import numpy
import sympy
from sympy import symbols, diff


#VARIABLE NAMES 
"""
elliptic_wing_loading - constant
ar - user input
cla_0 - hardcoded 
cla_w - modified constant
wing_chord - user input
wing_span - user input
aw - calculated
ac - user input/calculated
s_ref - user input/calculated
cla - calculated
partial_a_partial_delta - user input
cld_fs calculated
mach_Num - user input
gamma - constant
beta - calculated
k1 - calculated
k2 - calculated
k3 - calculated
kf - calculated
kfi - calculated


cm_c4delta - calculated
c - 
D - 
S_ref - 

"""

# Excel File
file_path = 'Research Paper.xlsx' 
df = pd.read_excel(file_path)


# Given Constants
elliptic_wing_loading = 0.95

# Somehow need to find or need to be given
ar = input("Enter the Aspect Ratio (ar): ")
cla_0 = 1 * 0.11 # 1 degree fin angle times 0.11 per degree lift slope for flat plate airfoil

try:
    ar = float(ar)
    cla_0 = float(cla_0)

except ValueError:
    print("non-numeric value entered")
    quit()


#finite span lift coefficient
cla_w = 0.0

cla_w = ((1 + (cla_0)/(float(math.pi) * ar * elliptic_wing_loading))**-1) * cla_0

print("cla after equation 13 is: ")
print(cla_w)


# EQ 14 - lift curve slope for finite wing
# wing area aw = chord * span

wing_chord = input("Enter the wing chord (m): ")                    # chord of the wing
wing_span = input("Enter the wing span (m): ")                      # span of the wing             
aw = float(wing_chord) * float(wing_span)                           # wing area calculation

ac = input("Enter the cutout area of the wing (m^2): ")             # cutout area typically due to sensors
ac = float(ac)

s_ref = input("Enter the reference area (m^2): ")                  # reference area (wing area without cutouts i think))
s_ref = float(s_ref)

cla = (aw - ac) * (cla_w) / s_ref

print("Wing lift scaled to reference area (eq 14): ")
print(cla)

# equation 15 - Control Surface Calculation

partial_a_partial_delta = input("Enter the partial a partial delta value: ")

cld_fs = cla * partial_a_partial_delta 

# equation 16
machNum = input("Enter the Mach number: ")
gamma = 1.4 # ratio of specific heats for air
beta = sqrt(1 - (M**2))
k1 = 2/beta
k2 = ((gamma + 1)* machNum**4 - 4*beta**2) / (4*beta**2)
k3 = ((gamma + 1)*machNum**8 + (2 * gamma**2 - 7*gamma - 5) * machNum**6 + 10 * (gamma + 1) * machNum***4 - 12)


kf = 

#equation 18
# only runs when there is a moment about the quater chord: delta != 0 

# (outer - inner flap edge location) 
# x (wing cord legnth ration) 
# x (ratio of effective wing area) 
# x (change in airfoil pitching moment coefficient about the quarter-chord per unit flap deflection)
#   - get this slope from airfoil/control surface data (hoerner Riegels???)

if delta != 0:
    c =
    D = 
    S_ref =
    cm_c4delta = (kf - Kfi) * (c/D) * (aw - ac)/(S_ref) 
